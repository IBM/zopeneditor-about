import{r,o as l,a as d,b as e,d as o,w as i,F as p,e as t,c as n}from"./app.0f177812.js";import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";const h={},c=e("h1",{id:"agent-mode",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#agent-mode","aria-hidden":"true"},"#"),t(" Agent Mode")],-1),m=t("In version 1.102 of VS Code, Microsoft introduced "),f={href:"https://code.visualstudio.com/docs/copilot/chat/chat-agent-mode",target:"_blank",rel:"noopener noreferrer"},g=t("Agent Mode"),b=t(". Among other features, Agent Mode added support for the "),y={href:"https://code.visualstudio.com/docs/copilot/customization/mcp-servers",target:"_blank",rel:"noopener noreferrer"},w=t("Model Context Protocol (MCP)"),_=t(", which enables AI models used in VS\u202FCode access to external tool APIs and services. MCP is evolving into an open standard. It is implemented by many vendors and projects, and is supported by various AI clients such as VS Code's "),v={href:"https://marketplace.visualstudio.com/items?itemName=GitHub.copilot-chat",target:"_blank",rel:"noopener noreferrer"},C=t("GitHub Copilot Chat"),q=t(" and popular third-party VS Code extensions like "),k={href:"https://roocode.com",target:"_blank",rel:"noopener noreferrer"},A=t("Roo Code"),x=t("."),I=e("p",null,"The MCP protocol is implemented by VS Code and many of its extensions as servers that provide access to data required by AI models to deliver accurate answers or to reach resources that are otherwise unavailable. Examples of MCP server functions include accessing your workspace files for review and modification, accessing your Git history to learn about recent changes and their reasons, and accessing resources on the internet, such as the latest documentation for tools and services that the AI model was not originally trained on. MCP tools can also perform active functions, such as executing VS Code tasks or running command-line operations in the terminal.",-1),M=e("p",null,"Z Open Editor adds its own set of MCP capabilities in the form of tools and resources that you can use with an AI chat. By leveraging Z Open Editor's Zowe APIs, the AI can interact with your z/OS system and access data sets, UNIX System Services files, and jobs. For example, you can ask the AI to list the members of a specific data set, fetch files that match a search pattern and compare them with files open in the current workspace, list your jobs and group them by status, or submit a new job using JCL that is selected in the editor or stored in a data set. In all cases, the AI displays the commands it intends to execute, shows the parameters, and requests your permission before proceeding. Another set of tools works with Z Open Editor's configuration files to help diagnose setup issues. You can ask the AI to check the editor's log file and ZAPP settings to determine why a copybook cannot be found for the currently open COBOL program. You can also inquire about your Zowe profiles and which defaults apply.",-1),O=t("See the "),P=t("Z Open Editor MCP Reference"),S=t(" page for a list of currently available MCP tools and resources. This list expands with each release as new tools are added incrementally."),E=e("h2",{id:"how-to-use-agent-mode",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#how-to-use-agent-mode","aria-hidden":"true"},"#"),t(" How to use Agent Mode")],-1),Z=e("p",null,"As with any business use of AI, it is important to understand the implications. When you run MCP server tools and access resources, you grant the AI access to these data sources. This means content loaded from your z/OS system becomes available to the AI and is collected by the owners of the AI's language model. The AI can also create or delete files and data sets, execute jobs, and perform other operations.",-1),z=e("p",null,[e("strong",null,"It is therefore important to use these features only with AI setups that you trust and that are approved for use in your organization.")],-1),T=e("p",null,'It is recommended not to enable "auto approve" features, which enable MCP tools to perform operations without user confirmation, to avoid accidental loss of data. All tools and resources provided by Z Open Editor must be explicitly enabled before they can be used. Enable them only when the preceding preconditions are met.',-1),V=t("Also carefully review the "),j={href:"https://code.visualstudio.com/docs/copilot/security",target:"_blank",rel:"noopener noreferrer"},L=t("Security"),R=t(" section in the VS Code documentation about Agent Mode, which details additional potential security risks."),B=e("p",null,[t("The main switch for Z Open Editor's MCP feature is the user setting: "),e("code",null,"zopeneditor.mcp.enabled"),t(". It is disabled by default.")],-1),G=e("p",null,`The following sections outline setup steps required for two AI chat clients tested with Z Open Editor's MCP server. These tools should also work with any other client that implements MCP and is used in your organization instead. Refer to those other client's documentation for details on how to configure third-party MCP servers using the "http-streaming" protocol.`,-1),H=e("h2",{id:"setup-using-github-copilot-chat",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#setup-using-github-copilot-chat","aria-hidden":"true"},"#"),t(" Setup using GitHub Copilot Chat")],-1),U=t("GitHub Copilot Chat is Microsoft\u2019s default AI\u2011chat solution for VS\u202FCode and enables Agent\u202FMode. It requires a GitHub account and a subscription after the free request limit or trial period ends. The extension can be configured to work with different large language models from a list of providers. Detailed setup instructions are available in the "),D={href:"https://code.visualstudio.com/docs/copilot/overview",target:"_blank",rel:"noopener noreferrer"},Y=t("VS Code documentation"),N=t("."),F=e("p",null,"Steps to enable and test Z Open Editor's MCP server:",-1),J=t("Install and configure the "),W={href:"https://marketplace.visualstudio.com/items?itemName=GitHub.copilot-chat",target:"_blank",rel:"noopener noreferrer"},X=t("GitHub Copilot Chat"),K=t(" VS Code extension and sign in with your GitHub account."),Q=n(`<li><p>Ensure Agent Mode is enabled in VS Code with the user setting <code>chat.agent.enabled</code>.</p></li><li><p>In the Chat panel&#39;s lower-left corner, change the mode drop-down from its default &quot;Ask&quot; value to &quot;Agent&quot;.</p></li><li><p>In the model selection drop-down next to it, select the large language model you are authorized to use. Use the &quot;Manage Models..&quot; item for additional configuration options if necessary.</p></li><li><p>Load your source code workspace and create an MCP configuration file by adding an entry in the workspace&#39;s <code>.vscode/mcp.json</code> file. If you use a multi-root workspace or multiple editor windows, create one in each workspace you want to use, with unique name postfixes and port numbers to set the correct context for the AI. Alternatively, run the &quot;MCP: Add Server&quot; command to use prompts to create and edit the file.</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;servers&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;zopeneditor-sample&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:3005/mcp&quot;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>Ensure that the server name starts with <code>zopeneditor</code> followed by a workspace-specific prefix, as shown in the preceding example. This enables you and the AI to distinguish between different servers running in multiple workspaces. Each server you run in parallel requires a unique port number and name. Errors are shown in the Output panel called &quot;Z Open Editor MCP&quot; if a server cannot be started because its port is already in use.</p></li><li><p>Enable Z Open Editor&#39;s MCP server with the user setting: <code>zopeneditor.mcp.enabled</code>.</p></li><li><p>Reload the VS Code window to ensure all components are initialized and restarted.</p></li><li><p>Check the Z Open Editor output panel for an INFO message reporting that the MCP feature is enabled (search for message id &quot;CRRZG5452I&quot;).</p></li>`,8),$=t("Switch to the Z Open Editor MCP output panel and observe the startup messages in this view. It is recommended to set Z Open Editor's "),ee=t("logger to the DEBUG level"),te=t(" to see more detailed information. The log should report that it found the mcp.json file and started the server using the information specified for the workspace in which is was found."),oe=n("<li><p>Switch back to the Chat panel in VS Code and click the tools icon at the bottom-right.</p></li><li><p>In the panel that appears at the top, the list of MCP tools is displayed. Below the &quot;Built-In&quot; section, locate the entry that matches the name of the server specified in the mcp.json file. Expand it to view all MCP tools provided by Z Open Editor.</p></li><li><p>Alternatively type <code>/list</code> in the Chat panel to obtain the list of tools in the Chat&#39;s output.</p></li><li><p>If the tools do not appear, check the Output panels again for any errors reported.</p></li><li><p>Execute any tool directly in the chat by using <code>#</code> with code completion on the tools list. For example, <code>#zowe-list-all-profiles</code> typed into the chat lists your profiles, assuming Zowe profiles defined.</p></li>",5),se=n('<h3 id="examples-of-using-the-tools" tabindex="-1"><a class="header-anchor" href="#examples-of-using-the-tools" aria-hidden="true">#</a> Examples of using the tools</h3><p>After the MCP server starts, you can access it from the Chat panel. Refer to the Z Open Editor page for a list of available tools, you can combine them with tools from other MCP servers and with the built\u2011in tools. Here are few things you can try. Note, the responses you receive depend on the language model you use and on other factors.</p><p>Try some of the following examples, if a valid Zowe profile is configured in your workspace that can be used to access z/OS data sets, files, and jobs through Zowe Explorer. Replace the example names with your own.</p><ul><li><p>&quot;<em>List the members of the data set USER.SAMPLE.COBOL that start with the prefix SAM</em>&quot;. The AI prompts you for permission to execute the MCP tool &quot;zowe-get-members&quot; with the data set name you provided. After you approve the execution, the tool returns the list of members that start with SAM. Expand and examine the tool entry in the chat to see the full response. You see that the AI reduced the full list of members it received to the members that match the prefix.</p></li><li><p>Open a modified version of one of the programs listed in the previous step and ask &quot;<em>Download the member with the name SAM1 and compare to the currently open COBOL program in my editor.</em>&quot; The chat asks for approval to execute the &quot;zowe-download-member&quot; tool. After approval, the tool fetches the member and the AI provides a detailed explanation of the differences. The more the large language mode is trained on COBOL, the richer the explanation. If your are looking for a sample program, use the files &quot;COBOL/SAM1.cbl&quot; and &quot;multiroot/sam/SAM1.cbl&quot; from our <a href="./samplefiles">samples repository</a>. They are different versions of the same application.</p></li><li><p>&quot;<em>What are the jobs of user IBMUSER grouped by status?</em>&quot; The AI returns a list of job names organized in sections by status.</p></li><li><p>Use Zowe Explorer to open a JCL file from one of your data sets in Z Open Editor and ask &quot;<em>Submit the JCL in the currently open editor as a job.</em>&quot; It will prompt for approval of the &quot;zowe-submit-job-dataset&quot; tool with the correct data set name. If you would have opened a local file it would have used the tool &quot;zowe-submit-job-jcl&quot; instead. After it ran the command it will show you the job id, name, and status of your job. It might even ask you to retrieve the job output or current status.</p></li><li><p>Do retrieve the outputs from your job by replying &quot;<em>Yes, retrieve the spool files for me.</em>&quot; which will result into the list of files available, asking you which one you want to see. Reply with &quot;<em>Show me SYSOUT</em>&quot;, which it then retrieves and displays in the chat. If the output contained error messages, then some AI models will even explain the reasons for why things might have gone wrong. If you ask &quot;<em>Fetch SYSOUT and open it in a VS Code editor tab</em>&quot;, it would do that as well after asking you for permission, if it is allowed to save the content in a workspace file first.</p></li><li><p>&quot;<em>Fetch my .profile file from my UNIX home directory and open it in the editor. My userid is ibmuser.</em>&quot;. The AI deduces the home directory &quot;/u/ibmuser&quot;, asks for approval, downloads the file, and opens it in VS\u202FCode. If the deduction is incorrect, reject the request and refine the prompt with more specifics.</p></li></ul><p>In addition to Zowe interactions, you can use tools and resources provided by Z Open Editor&#39;s MCP server to query your configuration.</p>',5),ne=n("<li><p>&quot;<em>List my Zowe profiles and the profiles defined as default for Z Open Editor.</em>&quot;. The AI executes two MCP tools, &quot;zowe-list-all-profiles&quot; and &quot;zopeneditor-get-default-zowe-profile&quot;, then lists all profiles found in your personal Zowe team configuration files together with the default profile used by Z\u202FOpen\u202FEditor.</p></li><li><p>&quot;<em>What are my ZAPP property groups for this workspace for COBOL and HLASM?</em>&quot;. AI calls &quot;zapp-get-property-groups&quot; twice and returns a summary for each language, assuming the property groups are defined in your ZAPP file.</p></li><li><p>Open a program where some copybooks cannot be found and ask: &quot;<em>Using the zopeneditor.log resource and the ZAPP property groups, analyze why copybook include files could not be found for the currently open program?</em>&quot; Depending on the language model, the AI automatically uses the MCP resource defined by Z Open Editor MCP or prompts you to execute the tool &quot;zopeneditor-read-the-log&quot; together with the previously retrieved ZAPP information. It then provides a detailed breakdown of the search process, listing locations that succeeded, locations that failed, and user settings that might have influenced the search.</p></li><li><p>To use the Z Open Editor log file as a resource in GitHub Chat, click the &quot;Add Context...&quot; button in the chat panel, select the file under &quot;MCP Resources&quot; in the prompt at the top of the screen, and confirm. The log file then appears next to the open program as context for your questions. You can use it to find various types of information from a DEBUG-level log file, such as details about your Zowe configuration, the version of Java used by the editor, user setting values, and more.</p></li>",4),ae=t('Open a workspace that contains many COBOL files that must have sequence numbers added to them and ask: "'),ie=e("em",null,"Can you add sequence numbers to all the COBOL files matching the following pattern: COBOL/SOURCE/**",-1),re=t(`". The files matching that pattern are then opened and have sequence numbers added to them. The changes are not saved by the tool to enable the user to confirm them. There are also tools to help if you'd like to remove sequence numbers or format a file instead, using your `),le=t("Z Code Format"),de=t(" file."),pe=t("You can also run "),ue=t("ZCodeScan"),he=t(' on many programs at once in your workspace using the same file patterns as shown above. "'),ce=e("em",null,"Run a scan of all the programs in the folder COBOL/SOURCE and describe the results in detail.",-1),me=t(`" Z Open Editor's MCP tool finds all the programs in the folder or matches a provided pattern, runs a code scan on each, and then aggregates the results into one report. You can ask follow-up questions such as "`),fe=e("em",null,"Can you explain the first issue in more detail and provide examples for how to fix it?",-1),ge=t('" Many large language models then suggest how to perform the fix and guide you step-by-step.'),be=n('<p>You can combine Z\u202FOpen\u202FEditor\u2019s capabilities with the VS\u202FCode built\u2011in MCP tools listed earlier.</p><ul><li><p>If Z Open Editor reports syntax errors in your current program, you can use the integration with VS Code and its built-in MCP tools to resolve the issues reported in VS Code&#39;s Problems View. You can ask &quot;<em>Can you explain the issues listed in the Problems view for COBOL developers and suggest how to fix them?</em>&quot; If your large language model is trained on COBOL, it provides a detailed description of the problems found and suggests how to fix them.</p></li><li><p>&quot;<em>Who made the last few changes on this program looking at the Git history?</em>&quot;. The AI generates a command line that queries the local Git repository, retrieves recent commits, and displays their descriptions.</p></li><li><p>&quot;<em>Can you find other programs in the workspace that have the same ACCEPT-DATE and ACCEPT-TIME statements that need fixing?</em>&quot;. The AI uses the context of the previous interactions, runs a VS Code Search to find similar statements in other files in your workspace and lists the matching files with line numbers.</p></li><li><p>Once you fixed the issues found by ZCodeScan you can ask to build the programs you fixed to ensure they still compile correctly with &quot;Run a user build of the currently open program&quot;.</p></li></ul><p>As these examples demonstrate, a basic set of MCP tools can be used and combined in many ways, providing endless opportunities to make your development activities more productive. You no longer have to learn the syntax of complex Zowe CLI commands, search manually through large log files, or download, save, and compare files versions. Just ask the AI to do this for you. With many more tools on the horizon, IDz on VS Code seamlessly integrates into your AI workflows and use cases, delivering new capabilities as more tools become available.</p><h2 id="setup-using-roo-code" tabindex="-1"><a class="header-anchor" href="#setup-using-roo-code" aria-hidden="true">#</a> Setup using Roo Code</h2>',4),ye={href:"https://roocode.com",target:"_blank",rel:"noopener noreferrer"},we=t("Roo Code"),_e=t(" is gaining popularity as an alternative to GitHub Copilot Chat. It offers on-premises solutions with custom large language models, agentic multi-step tasks for larger workflows, and additional developer features such as workspace indexing."),ve=e("p",null,"To setup Z Open Editor's MCP with Roo Code",-1),Ce=t("Install the "),qe={href:"https://marketplace.visualstudio.com/items?itemName=RooVeterinaryInc.roo-cline",target:"_blank",rel:"noopener noreferrer"},ke=t("Roo Code VS Code extension"),Ae=t("."),xe=n(`<li><p>Configure your large language model by selecting a provider, entering API keys, and following the steps documented for Roo\u202FCode.</p></li><li><p>Load your source code workspace and create an MCP configuration file, or add an entry in the workspace&#39;s <code>.roo/mcp.json</code> file. As shown in the example below, the location and format of the file differ slightly from those used for VS Code GitHub Chat.</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;mcpServers&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;zopeneditor-sample&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:3005/mcp&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;streamable-http&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>Enable Z Open Editor&#39;s MCP server with the user setting: <code>zopeneditor.mcp.enabled</code>.</p></li><li><p>Reload the VS Code window to ensure all components are initialized and restarted.</p></li><li><p>At the top-right of the Roo Code chat panel, select the menu button (three dots) and choose &quot;MCP Servers&quot; item.</p></li><li><p>In the MCP Servers panel, verify that your &quot;zopeneditor&quot; server is listed. Use the Refresh buttons in the panel if it is not visible or is disabled.</p></li><li><p>After enabled, expand the &quot;zopeneditor&quot; entry and see all the MCP tools listed.</p></li><li><p>Close the panel with the &quot;Done&quot; button and start a chat.</p></li><li><p>Ask &quot;<em>List all Zowe profiles</em>&quot;. The chat prompts you to approve the execution of the &quot;zowe-list-all-profiles&quot; MCP tool. After you click Approve, the list appears.</p></li>`,9);function Ie(Me,Oe){const s=r("ExternalLinkIcon"),a=r("RouterLink");return l(),d(p,null,[c,e("p",null,[m,e("a",f,[g,o(s)]),b,e("a",y,[w,o(s)]),_,e("a",v,[C,o(s)]),q,e("a",k,[A,o(s)]),x]),I,M,e("p",null,[O,o(a,{to:"/Docs/mcp_tools.html"},{default:i(()=>[P]),_:1}),S]),E,Z,z,T,e("p",null,[V,e("a",j,[L,o(s)]),R]),B,G,H,e("p",null,[U,e("a",D,[Y,o(s)]),N]),F,e("ol",null,[e("li",null,[e("p",null,[J,e("a",W,[X,o(s)]),K])]),Q,e("li",null,[e("p",null,[$,o(a,{to:"/Docs/locating_local_client_logs.html"},{default:i(()=>[ee]),_:1}),te])]),oe]),se,e("ul",null,[ne,e("li",null,[e("p",null,[ae,ie,re,o(a,{to:"/Docs/zcodeformatting.html"},{default:i(()=>[le]),_:1}),de])]),e("li",null,[e("p",null,[pe,o(a,{to:"/Docs/advanced_zcodescan.html"},{default:i(()=>[ue]),_:1}),he,ce,me,fe,ge])])]),be,e("p",null,[e("a",ye,[we,o(s)]),_e]),ve,e("ol",null,[e("li",null,[e("p",null,[Ce,e("a",qe,[ke,o(s)]),Ae])]),xe])],64)}var Ee=u(h,[["render",Ie]]);export{Ee as default};
