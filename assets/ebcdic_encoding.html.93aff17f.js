import{r as p,o as r,a as l,b as n,d as s,w as t,F as c,e,c as a}from"./app.22fd7c45.js";import{_ as d}from"./plugin-vue_export-helper.21dcd24c.js";var u="/zopeneditor-about/assets/zapp-rseapi.e541dd7d.png";const h={},m=n("h1",{id:"ebcdic-code-pages-and-mappings-files",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ebcdic-code-pages-and-mappings-files","aria-hidden":"true"},"#"),e(" EBCDIC code pages and mappings files")],-1),g=e("IBM Z Open Editor and RSE API Plug-in for Zowe CLI (RSE CLI plug-in) can handle EBCDIC code page conversion mappings for MVS and UNIX System Services files. You can set an encoding default in the RSE profile, use an encoding tag with Upload and Download MVS commands, use "),f=n("code",null,".gitattributes",-1),b=e(" files for uploading and downloading files from UNIX System Services, and use mappings files either provided by the RSE API host component or used at a project level. See "),y={href:"https://www.ibm.com/docs/en/developer-for-zos/16.0?topic=mapping-supported-host-code-pages",target:"_blank",rel:"noopener noreferrer"},w=e("this page with the list of all the supported code pages"),k=e("."),_=a(`<h2 id="zowe-capabilities" tabindex="-1"><a class="header-anchor" href="#zowe-capabilities" aria-hidden="true">#</a> Zowe capabilities</h2><p>Many commands for Zowe CLI as well as the IBM RSE API Plug-in for Zowe CLI have additional parameters for specifying a code page directly or specifying a mappings file to be used for computing the code page encoding.</p><p>For example, assuming the member <code>SAM1</code> was written and stored on MVS using the IBM-273 EBCDIC encoding, you can work with it via the following commands.</p><ul><li><p>To download the member <code>SAM1</code> as a UTF-8 file (converting from IBM-273), issue the following command:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>zowe rse download ds <span class="token string">&quot;IBMUSER.SAMPLE.COBOL(SAM1)&quot;</span> --ec IBM-273
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>To upload the member <code>SAM1</code> using the IBM-273 EBCDIC encoding, issue the following command:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> zowe rse upload ftds ./ibmuser/sample/cobol/SAM1.txt <span class="token string">&quot;IBMUSER.SAMPLE.COBOL(SAM1)&quot;</span> --ec IBM-273
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><p>You can also provide a default encoding value to be used for your Zowe CLI commands as well as Zowe Explorer operations in your Zowe profiles themselves. To do that, complete the following steps:</p>`,5),v=e("Create or locate your "),I=e("Zowe team configuration file"),S=e("."),x=n("li",null,[n("p",null,'Insert the encoding property under the "properties" object of the relevant profile.')],-1),q=a(`<p>Following is an example of how to do this:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;profiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;rse&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rse&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">6802</span><span class="token punctuation">,</span>
        <span class="token property">&quot;basePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rseapi&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;encoding&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IBM-930&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;secure&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>When uploading a file via Zowe Explorer - Zowe Profile:</p><ol><li>The file will be converted to the encoding that is specified in the selected Zowe profile.</li><li>The converted file is saved on the mainframe with the specified encoding.</li><li>When you download the file, it will be converted back from the specified encoding to UTF-8.</li></ol><p>This ensures that double-byte characters such as Japanese characters are correctly handled and displayed.</p><p>Example workflow:</p><ol><li>Upload a file that contains double-byte characters by using Zowe Explorer and save it on the mainframe.</li><li>Use the uploaded file as a copybook reference in another file and click on the reference.</li><li>The referenced file should open in a separate window in VS Code, displaying that the Japanese characters are correctly converted from IBM-930 to UTF-8.</li></ol><h2 id="advanced-ibm-rse-api-capabilities" tabindex="-1"><a class="header-anchor" href="#advanced-ibm-rse-api-capabilities" aria-hidden="true">#</a> Advanced IBM RSE API capabilities</h2><p>The RSE API Server provides the capability to manage mappings files that allow defining how MVS files should be converted when uploaded and downloaded. These mappings do not cover z/OS UNIX System Services, but see <a href="#character-conversion-using-gitattributes">Character conversion using <code>.gitattributes</code></a> instead.</p>`,9),E=e("RSE CLI plug-in provides the ability to get a default mappings file, which is maintained by the RSE API server administrator, from the server that can be downloaded using the "),C=e("RSE CLI plug-in command"),B=e(),M=n("code",null,"zowe rse check conversion-mappings",-1),A=e(". You can make personal modifications to this file in the "),P=n("code",null,"~/.zowe/profiles/rse",-1),z=e(" folder, and then have our tools use this mappings file automatically to interact with the server. The mapping is consistent with a similar behavior offered in IBM Developer for z/OS (IDz) via its user interface."),O=a(`<p>To download the default mappings file provided by your RSE API server administrator, issue the following command:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>zowe rse check conversion-mappings
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>The downloaded mappings file will be placed in <code>~/.zowe/profiles/rse/conversion-mappings.json</code>. You can add your personal conversion preferences to this file and the updates will be automatically used by all your RSE CLI plug-in commands without the need to specify a command line parameter.</p><p>However, if you manage more than one such file, for example for different projects, or you even prefer defining such mappings in a ZAPP file, then you can specify the file to use with a command line parameter as well:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>zowe rse upload ftds ./ibmuser/sample/cobol/SAM1.txt <span class="token string">&quot;IBMUSER.SAMPLE.COBOL(SAM1)&quot;</span> --maps ./zapp.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>In addition to mappings files that are stored in the user&#39;s <code>.zowe</code> directory and used by the RSE CLI plug-in, <a href="./zapp">ZAPP</a> provides the same ability of defining mappings using the same schema, but offers YAML as additional syntax. This allows teams to share these mappings for their applications and make them part of the source code that could be stored in a Git repository or other SCM. ZAPP files can either be in YAML or JSON syntax; however, it is recommended to have your ZAPP file in one syntax only, not both, within the same project or directory.</p><h3 id="mvs-encoding-precedence-rules" tabindex="-1"><a class="header-anchor" href="#mvs-encoding-precedence-rules" aria-hidden="true">#</a> MVS encoding precedence rules</h3><p>Tools such as the RSE CLI plug-in or Z Open Editor find mappings following these precedence rules with some rules applied to CLI only:</p><ol><li>(CLI only) An <code>encoding | ec</code> parameter provided by the command should always have highest precedence, for example <code>--encoding IBM-273</code>.</li><li>(CLI only) An encoding found in a file that was provided via the parameter <code>mappings-file | maps</code>, for example <code>--mappings-file ~/myproject/zapp.yaml</code>.</li><li>An encoding found in the current workspace in a file named <code>zapp.yaml</code> or <code>zapp.json</code>.</li><li>An encoding found in the default mappings file in the user&#39;s <code>~/.zowe/profiles/rse</code> folder that was downloaded via command line.</li><li>An encoding specified in the Zowe CLI profile itself.</li><li>No encoding is specified, resulting in the use of the server default mappings file residing on the server.</li></ol><h3 id="mappings-file-schema" tabindex="-1"><a class="header-anchor" href="#mappings-file-schema" aria-hidden="true">#</a> Mappings file schema</h3><p>The JSON schema for defining RSE CLI plug-in profiles simply consists of an array of mappings and a default encoding to be used if none of the mappings provided apply. The mappings can be provided as a simple array called <code>mappings</code> of mappings objects in a JSON file or as part of a ZAPP profile with settings as shown in the diagram below. See examples further below.</p><p><img src="`+u+'" alt="Fig.1: ZAPP Schema Model for RSE API"><strong>Fig.1: ZAPP Schema Model for RSE API</strong></p><p>When reading these mappings the following validation and interpretation rules apply:</p><ul><li>There can only be one ZAPP <code>rse-mappings</code> profile of type <code>rseapi</code> in a ZAPP file.</li><li>Member mappings consist of the same properties as the mappings except for the member mappings itself, that is, only one level of nesting.</li><li>When member mappings are matched, they will override values of the parent mappings. For example, the parent data set mapping might define a default encoding that is true for members that do not match, but if a member mapping is valid, any encoding value specified there will override the parent mapping.</li><li>The <code>resource</code> property is a mandatory property for data set and member mappings. <strong>Note</strong>: Mapping against members in all data sets is not possible for performance reasons.</li><li>The <code>resource</code> of the data set parent represents a pattern on the data set name.</li><li>The <code>resource</code> of the member mapping represents a pattern on the member name.</li><li>If no <code>transfer</code> is specified for a resource mapping, the default is text.</li><li>If no <code>encoding</code> is defined for text, it will use the default specified in the local mappings file. If that is missing, it will use the default of the server.</li><li>If a <code>transfer</code> is specified as binary, the encoding will be ignored.</li><li>The <code>extension</code> property is only used for downloading files to determine which extension to append to the member name, which is to ensure editors can open the file correctly. For uploading files, only the mappings to resources are relevant.</li><li>An <code>extension</code> entry can be present either in a member mapping or the data set mapping. If it is in both mappings, the member mapping takes precedence. If it is missing completely in mappings, the first resource match will be used.</li></ul>',14),R=e("Resources can be specified following the rules defined in Step 5 of the z/OS Explorer docs for "),L={href:"https://www.ibm.com/docs/en/developer-for-zos/16.0?topic=mapping-data-sets-partitioned-data-set-members",target:"_blank",rel:"noopener noreferrer"},T=e("Mapping data sets and partitioned data set members"),Z=e("."),U=a(`<p>There are two wildcards allowed: <code>**</code> and <code>*</code></p><ul><li><code>**</code> matches in data set names across multiple name hierarchies. It cannot be used for member names. For example: <code>**ERROR**</code> matches: <ul><li><code>USER.ERROR.TEST</code></li><li><code>USER.A.B.MYERROR.ABC</code></li><li><code>USER.A.B.MYERROR2.ABC</code></li></ul></li><li><code>*</code> matches within a data set name segment or the member name. For example, <code>USER**COB*</code> matches: <ul><li><code>USER.A.COB</code></li><li><code>USER.A.B.COBOL</code></li><li><code>USER.A.B.ACOBCOPY</code></li></ul></li></ul><h3 id="example-json-mappings-file" tabindex="-1"><a class="header-anchor" href="#example-json-mappings-file" aria-hidden="true">#</a> Example JSON mappings file</h3><p>The following shows a sample mappings file using JSON that you could place in your <code>~/.zowe/profiles/rse</code> as <code>conversion-mappings.json</code>:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;resource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;**.SAMPLE.COB**&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;extension&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cbl&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;transfer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;encoding&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IBM-273&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;memberMappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;extension&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dat&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;transfer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;binary&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;resource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EIC*&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;resource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;**PLI*&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;extension&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pl1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;transfer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;encoding&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IBM-500&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;default.encoding&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IBM-1047&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>This file defines that files located in data sets containing the string <code>.SAMPLE.COB</code> in their fully qualified name such as <code>USER1.SAMPLE.COBOL</code> would be transferred as text assuming an IBM-273 EBCDIC code page (Austria/Germany) on MVS. Hence, downloading a data set member with an RSE CLI plug-in command or Zowe Explorer using an RSE profile would therefore convert the content by RSE API from IBM-273 EBCDIC to a UTF-8 file, as that is the format Z Open Editor requires files to be in. Uploading such a file would convert the UTF-8 back to IBM-273 EBCDIC. The <code>extension</code> property, which is currently only supported by the CLI, specifies that the downloaded data set member would be stored as a file with a <code>.cbl</code> file extension.</p><p>In addition to the default rule for <code>**.SAMPLE.COB**</code> data sets, you see a nested <code>memberMappings</code> subrule that provides a refinement: If the member name contains <code>EIC</code> as a substring then the file will not be converted from IBM-273, but treated as a binary instead. This allows you to use data sets with members of different types.</p><p>Furthermore, the example shows how members in data sets that contain <code>PLI</code> in their names would be converted using IBM-500 (Belgium/Canada/Switzerland) as well as that in all other cases the default conversion code page would be IBM-1047.</p><h3 id="example-zapp-file" tabindex="-1"><a class="header-anchor" href="#example-zapp-file" aria-hidden="true">#</a> Example ZAPP file</h3><p>In a <code>zapp.yaml</code> file, you can specify the same mapping described in the previous section by defining a ZAPP profile of type <code>rseapi</code>. The <code>zapp.yaml</code> for this particular specification would contain text as follows:</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> sam
<span class="token key atrule">version</span><span class="token punctuation">:</span> 1.1.0

<span class="token key atrule">profiles</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> RSE<span class="token punctuation">-</span>Mappings
    <span class="token key atrule">type</span><span class="token punctuation">:</span> rseapi
    <span class="token key atrule">settings</span><span class="token punctuation">:</span>
      <span class="token key atrule">mappings</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">resource</span><span class="token punctuation">:</span> <span class="token string">&quot;**.SAMPLE.COB**&quot;</span>
          <span class="token key atrule">extension</span><span class="token punctuation">:</span> cbl
          <span class="token key atrule">transfer</span><span class="token punctuation">:</span> text
          <span class="token key atrule">encoding</span><span class="token punctuation">:</span> IBM<span class="token punctuation">-</span><span class="token number">273</span>
          <span class="token key atrule">memberMappings</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token key atrule">extension</span><span class="token punctuation">:</span> dat
              <span class="token key atrule">transfer</span><span class="token punctuation">:</span> binary
              <span class="token key atrule">resource</span><span class="token punctuation">:</span> <span class="token string">&quot;*DAT&quot;</span>
        <span class="token punctuation">-</span> <span class="token key atrule">resource</span><span class="token punctuation">:</span> <span class="token string">&quot;**PLI*&quot;</span>
          <span class="token key atrule">extension</span><span class="token punctuation">:</span> pl1
          <span class="token key atrule">transfer</span><span class="token punctuation">:</span> text
          <span class="token key atrule">encoding</span><span class="token punctuation">:</span> IBM<span class="token punctuation">-</span><span class="token number">500</span>
      <span class="token key atrule">default.encoding</span><span class="token punctuation">:</span> IBM<span class="token punctuation">-</span><span class="token number">1047</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="using-mappings-files-with-z-open-editor" tabindex="-1"><a class="header-anchor" href="#using-mappings-files-with-z-open-editor" aria-hidden="true">#</a> Using mappings files with Z Open Editor</h3>`,12),F=e("Mappings files are not only used by RSE CLI plug-in commands, but also by Z Open Editor remote include file resolution operations. When you define a property group either in your "),D=e("ZAPP"),j=e(" file or "),V=n("a",{href:"./setting_propertygroup"},"Settings",-1),N=e(", the retrieval of include files or copybooks will use mappings files based on the precedence rules defined above. For example, if you define mappings in a "),W=n("code",null,"zapp.yaml",-1),Y=e(" file in your workspace, these mappings will be used. If you do not have a ZAPP file, but have a personal mappings file in "),J=n("code",null,"~/.zowe/profiles/rse/conversion-mappings.json",-1),H=e(", the personal file will be automatically used."),G=n("h3",{id:"using-mappings-files-with-zowe-explorer",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#using-mappings-files-with-zowe-explorer","aria-hidden":"true"},"#"),e(" Using mappings files with Zowe Explorer")],-1),X=e("Zowe Explorer allows you to navigate your data sets and open data set members in the editor with a simple click. When you use Zowe Explorer with an RSE profile, conversion mappings can be used as well. To enable this, you need specify the absolute location of the mappings file to use in your user settings. The setting is called "),K=n("code",null,"zopeneditor.zowe.defaultRseConversionMappingsFile",-1),Q=e(". You can find it in the IBM Z Open Editor settings together with the other "),$=e("Zowe-related settings"),ee=e(" such as the "),ne=n("code",null,"defaultCliProfile",-1),se=e(". Conversion mappings defined in either a JSON-formatted RSE API user mappings file or a ZAPP file will override an encoding specified in a Zowe profile."),ae=a('<h3 id="rse-cli-plug-in-logging" tabindex="-1"><a class="header-anchor" href="#rse-cli-plug-in-logging" aria-hidden="true">#</a> RSE CLI plug-in logging</h3><p>When using encoding and mappings files with the RSE CLI plug-in commands, logging will be written and found at <code>~/.zowe/zowe/logs/zowe.log</code>. This log file will contain details about the encoding precedence that was used during upload and download of MVS files, the location of the mappings file if available, and the outcome of the encoding or transfer type that was chosen according to the previously-mentioned values.</p><p>In addition to the logging, you can also refer to the Upload and Download output to troubleshoot. If binary transfer was used, the output includes a binary value of <code>true</code>. If the file was transferred as text and an encoding value was used, the output includes an encoding value for each file.</p><h2 id="specifying-an-ebcdic-file-encoding-to-use-with-the-language-servers" tabindex="-1"><a class="header-anchor" href="#specifying-an-ebcdic-file-encoding-to-use-with-the-language-servers" aria-hidden="true">#</a> Specifying an EBCDIC file encoding to use with the language servers</h2><p>The language servers parse programs using the IBM-037 code page by default. If your program uses a different target encoding on z/OS, you must specify an EBCDIC code page for the language server to use, so it can compute the correct line length. This encoding should match the EBCDIC encoding used, when the file is placed back on z/OS. This functionality currently supports only the COBOL and PL/I language servers.</p><p>Here is how Z Open Editor evaluates what encoding to pass to the language server:</p>',6),oe=n("p",null,[e("For local COBOL or PL/I programs, you must configure the "),n("code",null,"zopeneditor.encodings.filePatterns"),e(" settings object.")],-1),te=e("This setting maps file name glob patterns to an EBCDIC file encoding. These patterns is specified as glob patterns. A single asterisk "),ie=n("code",null,"*",-1),pe=e(" matches any number of characters within a path segment, including none. A double asterisk "),re=n("code",null,"**",-1),le=e(" matches any number of path segments, including none. For example, "),ce=n("code",null,"{ **/COBOL/*.cbl : IBM-930 }",-1),de=e(" assigns any file paths that contains a directory named "),ue=n("code",null,"COBOL",-1),he=e(" ending with a "),me=n("code",null,".cbl",-1),ge=e(" extension an encoding of "),fe=n("code",null,"IBM-930",-1),be=e(". ("),ye={href:"https://code.visualstudio.com/docs/editor/glob-patterns",target:"_blank",rel:"noopener noreferrer"},we=e("Learn more about how to specify glob patterns."),ke=e(")"),_e=n("p",null,"For remote programs (accessed through Zowe Explorer), you can do any of the following:",-1),ve=a('<li>If an RSE API profile is used to access the file (such as a data set opened in Zowe Explorer), Z Open Editor first looks for an encoding specified by your RSE mappings as documented <a href="#advanced-ibm-rse-api-capabilities">above</a> (either in a <code>rseapi</code> profile in your <code>zapp.yaml</code> or the location in the <code>zopeneditor.zowe.defaultRseConversionMappingsFile</code> setting).</li><li>If no RSE mappings exist or if you are using a z/OSMF profile to access the file, you can specify an encoding in the Zowe Explorer profile you are using to access the program (see the <code>encoding</code> property example in this <a href="#zowe-capabilities">section</a>).</li>',2),Ie=e("You can use the "),Se=n("code",null,"zopeneditor.encodings.filePatterns",-1),xe=e(" user setting for remote files, but you must adjust the glob pattern to match to remote files in the Zowe Explorer filesystem (described "),qe=e("here"),Ee=e(")."),Ce=n("p",null,[e("These settings only control what encodings are passed to the language servers. To control encodings used for file conversions when you upload or download z/OS resources, use an RSE API mappings file or "),n("code",null,"rseapi"),e(" ZAPP profile, or specify the "),n("code",null,"encoding"),e(" property in your Zowe profile.")],-1),Be=e(`When a program is opened that is associated with an encoding using one of the methods above, a counter titled "EBCDIC Byte Count" is visible in the Visual Studio Code status bar. This counter displays two numbers: the number of bytes in the line up of the cursor's current position (accounting for the source code page), and the maximum number of bytes enabled in the line (controlled by the `),Me=n("code",null,"zopeneditor.language.maximumLineLength",-1),Ae=e(" setting). As with the previous functionality, this counter only displays for COBOL and PL/I programs."),Pe=a(`<p>If the language server detects double-byte characters, it displays guillemets (\xBB\xAB) at the position of the SOSI codes, when applicable. These guillemets are decorative and not stored with the program or affect its line length.</p><h2 id="character-conversion-using-gitattributes" tabindex="-1"><a class="header-anchor" href="#character-conversion-using-gitattributes" aria-hidden="true">#</a> Character conversion using <code>.gitattributes</code></h2><p>The <code>.gitattributes</code> file allows you to specify how files should be encoded when they are checked out to the working directory and when they are stored in the Git repository. This is particularly useful for handling double-byte characters.</p><h3 id="how-it-works" tabindex="-1"><a class="header-anchor" href="#how-it-works" aria-hidden="true">#</a> How it works</h3><ol><li>User Build from VS Code: When you perform a user build on an existing COBOL file that contains double-byte characters, the <code>.gitattributes</code> settings ensure that the file is encoded in IBM-930 when it is checked out to the working directory.</li><li>Build process: During the build process, the file is uploaded to the specified USS folder with the correct encoding that is mentioned in the <code>.gitattributes</code>.</li><li>File display in VS Code: When you open the file in VS Code, the double-byte characters are correctly converted from IBM-930 to UTF-8.</li></ol><h3 id="example-workflow" tabindex="-1"><a class="header-anchor" href="#example-workflow" aria-hidden="true">#</a> Example workflow</h3><ol><li>Update the <code>.gitattributes</code> file located at the root of the repository with the following line. This specifies an encoding of IBM-930 for all files in the repository with the <code>.cbl</code> file extension: <code>*.cbl zos-working-tree-encoding=ibm-930 git-encoding=utf-8</code>.</li><li>Perform a user build from VS Code on an existing COBOL file containing double-byte characters using the right-click menu.</li><li>During the build process, the <code>zos-working-tree-encoding</code> parameter specifies the code page used for encoding files that are uploaded to USS or MVS.</li><li>Wait for the build process to complete. Once finished, the COBOL file should be uploaded to the specified USS folder using the encoding from <code>.gitattributes</code>.</li><li>When opened in VS Code, the Japanese characters should be correctly converted from IBM-930 to UTF-8.</li></ol><h3 id="example-file-with-double-byte-characters" tabindex="-1"><a class="header-anchor" href="#example-file-with-double-byte-characters" aria-hidden="true">#</a> Example file with double-byte characters</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>\u3053\u3093\u306B\u3061\u306F\u3001\u4E16\u754C\uFF01 //* Hello world<span class="token operator">!</span>
\u3053\u308C\u306F\u30C6\u30B9\u30C8\u30D5\u30A1\u30A4\u30EB\u3067\u3059\u3002 //* This is a <span class="token builtin class-name">test</span> file.
IBM-930\u30A8\u30F3\u30B3\u30FC\u30C7\u30A3\u30F3\u30B0\u3092\u4F7F\u7528\u3057\u3066\u3044\u307E\u3059\u3002 //* Using IBM-930 encoding.
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,9);function ze(Oe,Re){const i=p("ExternalLinkIcon"),o=p("RouterLink");return r(),l(c,null,[m,n("p",null,[g,f,b,n("a",y,[w,s(i)]),k]),_,n("ol",null,[n("li",null,[n("p",null,[v,s(o,{to:"/Docs/zowe_explorer_v2.html#creating-zowe-v2-team-configuration-files"},{default:t(()=>[I]),_:1}),S])]),x]),q,n("p",null,[E,s(o,{to:"/Docs/rse_cli_command.html#system"},{default:t(()=>[C]),_:1}),B,M,A,P,z]),O,n("p",null,[R,n("a",L,[T,s(i)]),Z]),U,n("p",null,[F,s(o,{to:"/Docs/zapp.html#a-zapp-file-example"},{default:t(()=>[D]),_:1}),j,V,N,W,Y,J,H]),G,n("p",null,[X,K,Q,s(o,{to:"/Docs/interact_zos_zowe_explorer.html#using-rse-api-in-zowe-explorer"},{default:t(()=>[$]),_:1}),ee,ne,se]),ae,n("ol",null,[n("li",null,[oe,n("ul",null,[n("li",null,[te,ie,pe,re,le,ce,de,ue,he,me,ge,fe,be,n("a",ye,[we,s(i)]),ke])])]),n("li",null,[_e,n("ol",null,[ve,n("li",null,[Ie,Se,xe,s(o,{to:"/Docs/setting_fileassociations.html#remote-file-associations"},{default:t(()=>[qe]),_:1}),Ee])])])]),Ce,n("p",null,[Be,s(o,{to:"/Docs/setting_maximum_line_length.html"},{default:t(()=>[Me]),_:1}),Ae]),Pe],64)}var Ze=d(h,[["render",ze]]);export{Ze as default};
