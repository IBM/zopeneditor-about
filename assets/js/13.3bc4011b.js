(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{446:function(e,t,o){e.exports=o.p+"assets/img/ibmzopeneditorinche.c983b09e.png"},447:function(e,t,o){e.exports=o.p+"assets/img/workspace-using-ibmzstack.36418aae.png"},448:function(e,t,o){e.exports=o.p+"assets/img/zoweinche.3c250658.png"},484:function(e,t,o){"use strict";o.r(t);var r=o(45),n=Object(r.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"ibm-z®-open-editor-in-the-cloud-with-eclipse-che"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ibm-z®-open-editor-in-the-cloud-with-eclipse-che"}},[e._v("#")]),e._v(" IBM Z® Open Editor in the cloud with Eclipse Che")]),e._v(" "),r("blockquote",[r("p",[e._v("by Prasang A. Prajapati, Eric Subah, and Peter Haumer."),r("br"),e._v("\nLast updated: 3 December 2019")])]),e._v(" "),r("p",[r("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=IBM.zopeneditor",target:"_blank",rel:"noopener noreferrer"}},[e._v("IBM Z Open Editor"),r("OutboundLink")],1),e._v(" is a free Visual Studio Code extension that provides a modern editing experience for IBM Z Enterprise languages. It gives developers the freedom to code in COBOL and PL/I using the same editor they use for other languages such as Java and JavaScript. "),r("a",{attrs:{href:"https://ibm.github.io/zopeneditor-about/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Learn more"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("However, Visual Studio Code is a rich client editor that needs to be installed and configured by every development team member on their development machines. In addition to installing the editor, enterprise developers also have to get access to source code and other resources residing in SCMs and on z/OS.")]),e._v(" "),r("p",[e._v("What if you could avoid all this and developers could just join a project by getting access and logging on to a website? After logging on, the source code, access to z/OS, and the development environment required for maintaining the project would just be there and developers can just dive in?")]),e._v(" "),r("p",[e._v("To realize on this vision, there is an excellent open source tool platform called "),r("a",{attrs:{href:"https://www.eclipse.org/che/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Eclipse Che"),r("OutboundLink")],1),e._v(". It was built to make Kubernetes development accessible for development teams, providing one-click developer workspaces and eliminating the need for local environment configurations for the entire team. This use case applies not only to Kubernetes development, but by utilizing z/OS connectivity features such as the ones provided by the "),r("a",{attrs:{href:"https://zowe.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Zowe"),r("OutboundLink")],1),e._v(" open source project also fits with the requirements for z/OS Mainframe development projects.")]),e._v(" "),r("p",[e._v("You can run Eclipse Che in the public cloud, private cloud, or install it on a large list of distributed OS (Ubuntu/Linux/MacOS/Windows). To learn more about Eclipse Che, see "),r("a",{attrs:{href:"https://www.eclipse.org/che/docs/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Introduction to Eclipse Che"),r("OutboundLink")],1),e._v(". It is also built for extensibility allowing organizations to create and plug-in additional enhancements or features.")]),e._v(" "),r("p",[e._v("In the following, we want to show you how easy it is to set up such an Eclipse Che environment in IBM Cloud using OpenShift that is fully integrated with "),r("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=IBM.zopeneditor",target:"_blank",rel:"noopener noreferrer"}},[e._v("IBM Z Open Editor"),r("OutboundLink")],1),e._v(" as well as "),r("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=Zowe.vscode-extension-for-zowe",target:"_blank",rel:"noopener noreferrer"}},[e._v("Zowe Explorer"),r("OutboundLink")],1),e._v(" in three simple steps. We will provide a sample application that you can use for exploration, but once you have it up and running, you can explore other possibilities for this new kind of development style using your own source code. We would love to hear your feedback and engage into a discussion on how we can make this work for your teams.")]),e._v(" "),r("p",[r("img",{attrs:{src:o(446),alt:"Screen capture for IBM Z Open Editor in Eclipse Che"}}),e._v("\nFig. 1: The user experience of IBM Z Open Editor in Eclipse Che")]),e._v(" "),r("h2",{attrs:{id:"step-1-getting-started-with-ibm-cloud-and-openshift"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#step-1-getting-started-with-ibm-cloud-and-openshift"}},[e._v("#")]),e._v(" Step 1: Getting started with IBM Cloud and OpenShift")]),e._v(" "),r("p",[e._v("We recommend exploring Eclipse Che on IBM Cloud utilizing IBM's OpenShift V3.11 offering available there. However, the instruction provided here should also work on any other OpenShift or Kubernetes hosting platforms that can run Eclipse Che. If in fact you have Eclipse Che running somewhere in your organization or a Cloud account of your own, you can directly jump to "),r("a",{attrs:{href:"#step-3:-creating-a-development-workspace-for-z"}},[e._v("Step 3")]),e._v(" now. Note that although the cluster and Che environment you are using needs to have at least 3 GB of memory available, the standard Che trial servers at "),r("a",{attrs:{href:"https://che.openshift.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://che.openshift.io"),r("OutboundLink")],1),e._v(" do not provide enough resources at the moment unfortunately.")]),e._v(" "),r("h3",{attrs:{id:"introducing-openshift"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#introducing-openshift"}},[e._v("#")]),e._v(" Introducing OpenShift")]),e._v(" "),r("ul",[r("li",[e._v("An open source containerized platform developed by "),r("a",{attrs:{href:"https://www.redhat.com/en",target:"_blank",rel:"noopener noreferrer"}},[e._v("Red Hat"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("li",[e._v("It is "),r("a",{attrs:{href:"https://en.wikipedia.org/wiki/Platform_as_a_service",target:"_blank",rel:"noopener noreferrer"}},[e._v("platform as a service (PaaS)"),r("OutboundLink")],1),e._v(". PaaS is a category of cloud computing services which provides an environment for customers to develop, run and manage their applications without the complex infrastructure of building and managing applications.")]),e._v(" "),r("li",[e._v("OpenShift container platform is a service which can be deployed on public, private or hybrid cloud which will help customers to deploy applications using docker containers.")]),e._v(" "),r("li",[e._v("It is built on top of "),r("a",{attrs:{href:"https://kubernetes.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Kubernetes"),r("OutboundLink")],1),e._v(" and provides you tools like OpenShift web console or OpenShift CLI to manage projects and deployments.")]),e._v(" "),r("li",[e._v("It simplifies development and operations for cloud native applications.")]),e._v(" "),r("li",[e._v("It provides a web console to access and manage all the projects using built-in catalogs as well as OpenShift Container Platform templates. To learn more about OpenShift Web Console, you can view the "),r("a",{attrs:{href:"https://docs.openshift.com/container-platform/3.7/getting_started/developers_console.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenShift web console Walkthrough documentation"),r("OutboundLink")],1),e._v(".")])]),e._v(" "),r("h3",{attrs:{id:"creating-an-openshift-cluster-on-ibm-cloud"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#creating-an-openshift-cluster-on-ibm-cloud"}},[e._v("#")]),e._v(" Creating an OpenShift cluster on IBM Cloud")]),e._v(" "),r("p",[e._v("Prerequisite: To run Eclipse Che on IBM Cloud using OpenShift, you need have a full IBM Cloud account because the IBM Cloud trial accounts do not have the option to create OpenShift clusters at the moment.")]),e._v(" "),r("p",[e._v("After you have a full IBM Cloud account, follow the steps below to create an OpenShift cluster:")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Log in to your "),r("a",{attrs:{href:"https://cloud.ibm.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("IBM Cloud account"),r("OutboundLink")],1),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("From the Services Catalog, select "),r("a",{attrs:{href:"https://cloud.ibm.com/kubernetes/catalog/openshiftcluster",target:"_blank",rel:"noopener noreferrer"}},[e._v("Red Hat OpenShift Cluster"),r("OutboundLink")],1),e._v(". Then, click "),r("strong",[e._v("Create")]),e._v(" in the summary page.")])]),e._v(" "),r("li",[r("p",[e._v("In the "),r("strong",[e._v("Create a new OpenShift cluster")]),e._v(" page, choose your cluster setup details and name:")]),e._v(" "),r("ol",[r("li",[e._v("For the "),r("strong",[e._v("Location")]),e._v(", select the "),r("strong",[e._v("Single zone")]),e._v(", which should be enough for evaluation. Set the "),r("strong",[e._v("Geography")]),e._v(" and then select any of the "),r("strong",[e._v("Worker zones")]),e._v(".")]),e._v(" "),r("li",[e._v("Enter a unique name for your cluster and select the resource group that you want to assign to your cluster.")]),e._v(" "),r("li",[e._v("For "),r("strong",[e._v("Default worker pool")]),e._v(", choose an available flavor for your worker nodes. Red Hat OpenShift on IBM Cloud supports OpenShift version 3.11 only, which includes Kubernetes version 1.11. The operating system is Red Hat Enterprise Linux 7.")]),e._v(" "),r("li",[e._v("Set a number of worker nodes to create per zone, such as 3.")])])]),e._v(" "),r("li",[r("p",[e._v("To finish, click "),r("strong",[e._v("Create cluster")]),e._v(".")])])]),e._v(" "),r("p",[r("strong",[e._v("Notes")]),e._v(":")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("Your cluster creation might take some time to complete. After the cluster state shows "),r("strong",[e._v("Normal")]),e._v(", the cluster network and load-balancing component take about 10 more minutes to deploy and update the cluster domain that you use for the OpenShift web console and other routes.")])]),e._v(" "),r("li",[r("p",[e._v("Verify that your cluster setup is finished before you continue to the next step by checking that the Ingress subdomain on the cluster details page follows a pattern of "),r("code",[e._v("<cluster_name>.<region>.containers.appdomain.cloud")]),e._v(".")])])]),e._v(" "),r("p",[r("strong",[e._v("Tip")]),e._v(": If you want to learn more about customizing your cluster setup with the CLI, check out "),r("a",{attrs:{href:"https://cloud.ibm.com/docs/openshift?topic=openshift-openshift-create-cluster",target:"_blank",rel:"noopener noreferrer"}},[e._v("Creating an OpenShift cluster"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("h2",{attrs:{id:"step-2-deploying-eclipse-che"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#step-2-deploying-eclipse-che"}},[e._v("#")]),e._v(" Step 2: Deploying Eclipse Che")]),e._v(" "),r("p",[e._v("Once you have an OpenShift cluster, you can deploy Eclipse Che on it. This will be done with just a few command-line operations. To be able to execute these commands, there are two prerequisites that you need to install:")]),e._v(" "),r("ul",[r("li",[e._v("Git: To use the features that involve Git, you must install Git and have it available in your system path so that Visual Studio Code can display it. On Macs, Git comes out of the box. On Linux, you can install Git with your distribution's package manager. On Windows, you can get Git from "),r("a",{attrs:{href:"https://git-scm.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://git-scm.com"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("OpenShift CLI: OpenShift CLI is used to manage projects and their deployments. The easiest way to download the CLI is by accessing the About page on the web console if your cluster administrator has enabled the download links. To install OpenShift CLI, you can follow the "),r("a",{attrs:{href:"https://docs.openshift.com/container-platform/3.7/cli_reference/get_started_cli.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenShift CLI reference documentation"),r("OutboundLink")],1),e._v(". The steps basically consist of downloading a .zip file with two binary files that you need to place in the right location of your command path.")])]),e._v(" "),r("p",[e._v("Once you have these two in place, your can perform these installation steps:")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Using a command line shell, find a location for your home directory and clone the "),r("a",{attrs:{href:"https://github.com/eclipse/che-operator",target:"_blank",rel:"noopener noreferrer"}},[e._v("che-operator"),r("OutboundLink")],1),e._v(" repository by running this command:")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/eclipse/che-operator.git\n")])])]),r("p",[e._v("This repository contains all the scripts and configuration files needed to deploy Eclipse Che and all of its components to your cluster. Refer to "),r("a",{attrs:{href:"https://github.com/eclipse/che-operator/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Che/Codeready Workspaces Operator Documentation"),r("OutboundLink")],1),e._v(" to learn more about che-operator. Then, navigate to the new directory with")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" che-operator\n")])])]),r("p",[e._v("as you will execute commands form there further below.")])]),e._v(" "),r("li",[r("p",[e._v("Using the OpenShift command line tool you need to now first log in to your cluster. The OpenShift web console provides a user-friendly way to do so using access token generating the entire login command for you to copy-paste. To find that, go back to your OpenShift web console browser screen and open user menu in the upper right corner. There you find the option "),r("code",[e._v("Copy Login Command")]),e._v(", which will copy the command to your clipboard. Go back to your command line shell and paste the login command and run it. For more information, see "),r("a",{attrs:{href:"https://docs.openshift.com/container-platform/3.11/getting_started/developers_cli.html#developers-cli-creating-a-project",target:"_blank",rel:"noopener noreferrer"}},[e._v("Creating a Project"),r("OutboundLink")],1),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("Now you are ready to create a namespace in your cluster and deploy Che in that namespace. A namespace is a virtual cluster in which multiple resources exist. Each resource can be referenced by its unique name. Therefore, namespaces avoid basic naming collisions. A Project in OpenShift is equivalent to a Kubernetes namespace. However, in addition to the namespace name, OpenShift projects can also manage a user-friendly display name and description. For details, see "),r("a",{attrs:{href:"https://docs.openshift.com/enterprise/3.0/architecture/core_concepts/projects_and_users.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Users, Namespaces, and Projects"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("oc create namespace "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("your_namespace_name"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),r("p",[e._v("Then, navigate with your cluster login to the newly created namespace:")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("oc project "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("your_namespace_name"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),r("p",[e._v("Finally, run the command to deploy Eclipse Che into that namespace:")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("./deploy.sh "),r("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$namespace")]),e._v("\n")])])]),r("p",[e._v("The script will return to the command line prompt immediately, but the actually jobs to deploy can take a couple of minutes. You can follow along on the deployment progress in the Monitoring section of the OpenShift Application Console as described below.")])]),e._v(" "),r("li",[r("p",[e._v("Upon successful deployment, navigate back to OpenShift web console in your browser. Based on the version of OpenShift available to you and deployed to your cluster, there are new two different alternative ways to perform the next steps.")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("If you are using OpenShift V3")]),e._v(" "),r("ol",[r("li",[e._v("From the list of "),r("code",[e._v("My Projects")]),e._v(" on the right, click "),r("code",[e._v("View All")]),e._v(", then find your project name from the list and select it.")]),e._v(" "),r("li",[e._v("Using the "),r("code",[e._v("Monitoring")]),e._v(" section from the left side menu in your project helps you to see the events and logs of your deployment.")]),e._v(" "),r("li",[e._v("If all the containers are in the state of "),r("code",[e._v("running")]),e._v(", it means your application is up and running. If you get any issues, feel free to ask "),r("a",{attrs:{href:"#questions-or-feedback-we-would-love-to-hear-from-you"}},[e._v("questions")]),e._v(".")]),e._v(" "),r("li",[e._v("If all the containers are running, select the "),r("code",[e._v("Overview")]),e._v(" tab from the left menu items which will show all your deployed application in the project. Find "),r("code",[e._v("che")]),e._v(" application and then click the URL appears at the top.")]),e._v(" "),r("li",[e._v("The URL will take you to a login page of Eclipse Che because che-operator uses Operator SDK and Go Kube client to deploy, update, and manage K8S/OpenShift resources that constitute a multi-user Eclipse Che. The multi-user feature in Eclipse Che allows multiple users to create workspaces in single Che instance. All workspaces created by each user are independent of each other. Each user has his/her own sandbox where workspaces are created and stored.")])])]),e._v(" "),r("li",[r("p",[e._v("If you are using OpenShift v4:")]),e._v(" "),r("ol",[r("li",[e._v("From the left side menu, open the "),r("code",[e._v("Home")]),e._v(" section, click "),r("code",[e._v("Projects")]),e._v(", find your project name from the list and select it.")]),e._v(" "),r("li",[e._v("Using the "),r("code",[e._v("Networking")]),e._v(" section from the left side menu in your project helps you to see the events and logs of your deployment pods.")]),e._v(" "),r("li",[e._v("If all the pods are in the state of "),r("code",[e._v("running")]),e._v(", it means your application is up and running. If you get any issues, feel free to ask "),r("a",{attrs:{href:"#questions-or-feedback-we-would-love-to-hear-from-you"}},[e._v("questions")]),e._v(".")]),e._v(" "),r("li",[e._v("If all the pods are running, select the "),r("code",[e._v("Routes")]),e._v(" tab from the left menu items under "),r("code",[e._v("Networking")]),e._v(" tab which will show all your deployed application in the project, their routes as well as status. Successful deployment shows "),r("code",[e._v("STATUS")]),e._v(" as "),r("code",[e._v("Accepted")]),e._v(". Find "),r("code",[e._v("che")]),e._v(" application and then click the URL appears under the "),r("code",[e._v("LOCATION")]),e._v(" section.")]),e._v(" "),r("li",[e._v("The URL will take you to a login page of Eclipse Che because che-operator uses Operator SDK and Go Kube client to deploy, update, and manage K8S/OpenShift resources that constitute a multi-user Eclipse Che. The multi-user feature in Eclipse Che allows multiple users to create workspaces in single Che instance. All workspaces created by each user are independent of each other. Each user has his/her own sandbox where workspaces are created and stored.")])])])]),e._v(" "),r("p",[e._v("Eclipse Che has provided an authentication mechanism called "),r("a",{attrs:{href:"https://www.keycloak.org/documentation.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Keycloak"),r("OutboundLink")],1),e._v(". It uses Keycloak to create, import, manage, delete, and authenticate users.")]),e._v(" "),r("p",[e._v("The default Keycloak credentials are "),r("code",[e._v("admin:admin")]),e._v(". You can use these credentials to log in to Eclipse Che workspaces for the first time. It has system privileges. Also you can register first. On the login page, click register and complete the form. Log in and follow the steps below to create a workspace. A "),r("a",{attrs:{href:"https://www.eclipse.org/che/docs/che-7/introduction-to-eclipse-che/",target:"_blank",rel:"noopener noreferrer"}},[e._v("workspace"),r("OutboundLink")],1),e._v(" is just an environment in Che where projects, dependencies, Web IDE, and other necessary tools exist.")])])]),e._v(" "),r("h2",{attrs:{id:"step-3-creating-a-development-workspace-for-z"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#step-3-creating-a-development-workspace-for-z"}},[e._v("#")]),e._v(" Step 3: Creating a development workspace for Z")]),e._v(" "),r("h3",{attrs:{id:"introducing-che-workspaces"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#introducing-che-workspaces"}},[e._v("#")]),e._v(" Introducing Che workspaces")]),e._v(" "),r("p",[e._v("Che workspaces are kubernetes pods which were conceived for distributed development to allow Kubernetes developers to replicate the application runtime environments and micro services used in production. Container-based developer workspaces provide all the tools and dependencies needed to code, build, test, run, and debug distributed applications. All the tools are embedded and always included with the workspace. Workspaces are isolated from one another and are responsible for managing the lifecycle of their components. Developer workspaces provide four different components: Project source code, Browser-based IDE, Tool dependencies and application runtime. To learn more about workspaces refer to "),r("a",{attrs:{href:"https://www.eclipse.org/che/docs/che-7/workspaces-overview/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Workspaces overview"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("For z/OS development workspaces can be used to host the source code, the IDE with enterprise language support such as the Z Open Editor as well as other client-side tools needed for development such as Debug clients. In this example, we are going to start a workspace that has IBM Z Open Editor, Zowe Explorer, plus a sample Git repository with an application. All of it was preconfigured by us in a simple yaml file called devfile. Go "),r("a",{attrs:{href:"https://github.com/IBM/zopeneditor-about/blob/master/che/ibm-z-devfile.yaml",target:"_blank",rel:"noopener noreferrer"}},[e._v("here with a Web browser"),r("OutboundLink")],1),e._v(" to see the devfile we are using in the step below. Every development lead can easily create such files to define workspaces for his team that can then be easily instantiated by developers via a few mouse clicks.")]),e._v(" "),r("h3",{attrs:{id:"getting-organized-with-plug-ins-and-devfile-registries"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#getting-organized-with-plug-ins-and-devfile-registries"}},[e._v("#")]),e._v(" Getting organized with plug-ins and devfile registries")]),e._v(" "),r("p",[e._v("As devfiles declare the configurations for workspaces, plug-ins are a declaration in Eclipse Che for how the tools such as IBM Z Open Editor need to be installed and configured for a workspace. You can then combine workspaces with many different plug-ins to make up your development environment.")]),e._v(" "),r("p",[e._v("Eclipse Che uses plug-in and devfile registry servers for default out of the box workspace declarations. Development organization can manage their own registries replacing or augmenting these defaults.")]),e._v(" "),r("p",[e._v("The Che devfile registry is a service that provides a list of Che stacks to create ready-to-use workspaces. This list of stacks is used in the Dashboard → Create Workspace window. The devfile registry runs in a container and can be deployed wherever the user dashboard can connect. The default registry: "),r("a",{attrs:{href:"https://che-devfile-registry.openshift.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://che-devfile-registry.openshift.io"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("The Che plug-in registry is a service that provides the list of plug-ins and editors for the Che workspaces. A devfile only references a plug-in that is published in a Che plug-in registry. It runs in a container and can be deployed wherever wsmaster connects. The default registry: "),r("a",{attrs:{href:"https://che-plugin-registry.openshift.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://che-plugin-registry.openshift.io"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("h3",{attrs:{id:"creating-an-ibm-z-open-editor-workspace"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#creating-an-ibm-z-open-editor-workspace"}},[e._v("#")]),e._v(" Creating an IBM Z Open Editor workspace")]),e._v(" "),r("p",[e._v("In addition to using a Devfile registry, Eclipse Che even allows you to point to a single devfile on the intranet or internet to create a workspace, which is what we are going to do now with our "),r("a",{attrs:{href:"https://github.com/IBM/zopeneditor-about/blob/master/che/ibm-z-devfile.yaml",target:"_blank",rel:"noopener noreferrer"}},[e._v("devfile"),r("OutboundLink")],1),e._v(" we explored earlier.")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("At the end of Step 2, you logged in to your deployed Eclipse Che.")])]),e._v(" "),r("li",[r("p",[e._v("If you log on for the first time and have no workspace yet,  you will be redirected automatically to the "),r("code",[e._v("New Workspace")]),e._v(" page. If you have already created workspaces before, select "),r("code",[e._v("Create Workspace")]),e._v(" from "),r("code",[e._v("Dashboard")]),e._v(" menu item from the left.")])]),e._v(" "),r("li",[r("p",[e._v("Select the "),r("code",[e._v("IMPORT DEVFILE")]),e._v(" option and select "),r("code",[e._v("URL")]),e._v(" as a source.")])]),e._v(" "),r("li",[r("p",[e._v("Add the IBM Z Open Editor stack URL: "),r("a",{attrs:{href:"https://raw.githubusercontent.com/IBM/zopeneditor-about/master/che/ibm-z-devfile.yaml",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://raw.githubusercontent.com/IBM/zopeneditor-about/master/che/ibm-z-devfile.yaml"),r("OutboundLink")],1),e._v(" and click "),r("code",[e._v("CREATE AND OPEN")]),e._v(".")]),e._v(" "),r("p",[r("img",{attrs:{src:o(447),alt:"Importing the IBM Z Stack"}}),e._v("\nFig. 2: Instead of a devfile registry we can use this screen to point to single devfile.")])])]),e._v(" "),r("p",[r("strong",[e._v("Note")]),e._v(": While starting a workspace, you may run into some known issues such as timeouts if the creation takes longer. Refer to the "),r("a",{attrs:{href:"#troubleshooting"}},[e._v("Troubleshooting")]),e._v(" section for dealing with some of the known issues. The Che development team is actively working on improving these issues.")]),e._v(" "),r("p",[e._v("Importing the devfile as shown above will automatically start a workspace, which includes our Z Open Editor, Zowe Explorer, as well as a sample Git repository with sample application written in COBOL and PL/I. It even includes important prerequisites. Because the COBOL and PL/I language server have been written in Java, the workspace stack also includes a runtime container with Java 11. You can review the "),r("a",{attrs:{href:"https://github.com/IBM/zopeneditor-about/blob/master/che/plugins/z-open-editor.yaml",target:"_blank",rel:"noopener noreferrer"}},[e._v("plug-in definition that was used by our devfile here"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("To turn plug-ins on or off for adding or removing editors and features, you can go to the Che workspace configuration, select the plug-ins menu item, and then add or remove plug-ins. You can also turn plug-ins on or off from the Che IDE using the "),r("code",[e._v("Che Plugins")]),e._v(" menu item from "),r("code",[e._v("View Menu")]),e._v(".")]),e._v(" "),r("p",[e._v("You can share your workspace with other teammates who have registered themselves in the same Eclipse Che deployment.")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Go to the "),r("code",[e._v("Workspaces")]),e._v(" tab and open the "),r("code",[e._v("Workspace Configuration")]),e._v(" item by clicking the configuration icon on the right side under the "),r("code",[e._v("ACTIONS")]),e._v(" tab.")])]),e._v(" "),r("li",[r("p",[e._v("Select the "),r("code",[e._v("Share")]),e._v(" tab.")])]),e._v(" "),r("li",[r("p",[e._v("Click "),r("code",[e._v("Add Developer")]),e._v(" and add the developer's registered email address.")])])]),e._v(" "),r("h2",{attrs:{id:"exploring-your-workspace"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#exploring-your-workspace"}},[e._v("#")]),e._v(" Exploring your workspace")]),e._v(" "),r("p",[e._v("Now that you are up and running, you can start exploring Eclipse Che with IBM Z Open Editor using the sample files that we included. After clicking the documents icon on the left, Che will expand the "),r("code",[e._v("File Explorer")]),e._v(" showing you two directories: "),r("code",[e._v(".theia")]),e._v(" and "),r("code",[e._v("ibm-zopeneditor-sample")]),e._v(". You now want to open that later directory directly as a top-level folder to use its predefined settings. To do that, take these steps:")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Open the menu "),r("code",[e._v("File > Open...")])])]),e._v(" "),r("li",[r("p",[e._v("In the Open dialog, double-click "),r("code",[e._v("ibm-zopeneditor-sample")]),e._v(" to drill down and click the "),r("code",[e._v("Open")]),e._v(" button.")])]),e._v(" "),r("li",[r("p",[e._v("Another browser tab will open loading now the contents of "),r("code",[e._v("ibm-zopeneditor-sample")]),e._v(" into the top level.")])]),e._v(" "),r("li",[r("p",[e._v("Close the other browser tab left open as you do not want to accidentally use it anymore.")])])]),e._v(" "),r("p",[e._v("The "),r("code",[e._v("File Explorer")]),e._v(" now shows you several folders such as "),r("code",[e._v("COBOL")]),e._v(", "),r("code",[e._v("COPYBOOK")]),e._v(", "),r("code",[e._v("INCLUDES")]),e._v(", "),r("code",[e._v("JCL")]),e._v(", "),r("code",[e._v("PLI")]),e._v(" with code samples in these different languages.")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Expand the "),r("code",[e._v("COBOL")]),e._v(" folder and select the file "),r("code",[e._v("SAM1.cbl")]),e._v(" to open it.")])]),e._v(" "),r("li",[r("p",[e._v("The COBOL program is open in the editor and you immediately see the syntax highlighting.")])]),e._v(" "),r("li",[r("p",[e._v("On the right, there are two icons. The first looks like a bullet point list. Click it to open the COBOL program's outline view.")])]),e._v(" "),r("li",[r("p",[e._v("Once you click inside the COBOL editor the outline view gets populated and you can use it to quickly navigate the program.")])]),e._v(" "),r("li",[r("p",[e._v("Try some of the other language features such as right-clicking any variable and selecting "),r("code",[e._v("Peek References")]),e._v(" from the context menu showing you all the places in which the variable is used inside the program.")])])]),e._v(" "),r("p",[e._v("You can explore many other editing features that our IBM Z Open Editor's Language Servers for COBOL and PL/I provide. Find them documented in the "),r("a",{attrs:{href:"https://ibm.github.io/zopeneditor-about/Docs/editor_codechanges.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("IBM Z Open Editor online documentation"),r("OutboundLink")],1),e._v(". Try them out here and you will see that you have a full enterprise language editor experience in the cloud now.")]),e._v(" "),r("h2",{attrs:{id:"optional-exploring-z-os-using-zowe-explorer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#optional-exploring-z-os-using-zowe-explorer"}},[e._v("#")]),e._v(" Optional: Exploring z/OS using Zowe Explorer")]),e._v(" "),r("p",[e._v("Another thing you can try is to access z/OS system resources such as COBOL programs in MVS or USS directly from your Eclipse Che workspace by using Zowe Explorer that we included in our devfile as well. You can find Zowe Explorer by clicking the stylized "),r("code",[e._v("Z")]),e._v(" for Zowe icon in the icon bar on the left. It should be the last icon in that list. Once opened, the view will show you three different tree browsers for MVS, USS, and JES.")]),e._v(" "),r("p",[e._v("To be able to try these out, you need access to a z/OS system with zOSMF configured. This could be any system that you can reach from your OpenShift cluster, if you deployed on your own in-house OpenShift deployment. If you are using IBM Cloud, you could try this using a system provided by the "),r("a",{attrs:{href:"https://www.ibm.com/it-infrastructure/z/education/master-the-mainframe",target:"_blank",rel:"noopener noreferrer"}},[e._v("Master the Mainframe"),r("OutboundLink")],1),e._v(" learning site by following these steps:")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Sign up with Master the Mainframe "),r("a",{attrs:{href:"https://www-01.ibm.com/events/wwe/ast/mtm/audit.nsf/enrollall?",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),r("OutboundLink")],1),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("Once you received your Welcome email, follow the instructions to use a 3270 terminal to change your password to gain access.")])]),e._v(" "),r("li",[r("p",[e._v("The Welcome email will also send you a link to join the Master the Mainframe Slack community, which needs to join to get access to a Bot that will enable zOSMF for your account, which is switch off by default, but required for Zowe Explorer.")])]),e._v(" "),r("li",[r("p",[e._v("In the Slack community, follow the "),r("a",{attrs:{href:"https://mtm2019.mybluemix.net/references/references_password_reset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("instruction here"),r("OutboundLink")],1),e._v(" to get access to the "),r("code",[e._v("Zih")]),e._v(" Bot.")])]),e._v(" "),r("li",[r("p",[e._v("Do "),r("strong",[e._v("not")]),e._v(' do the steps to "Reset your password", but instead just type your username into the Bot\'s chat.')])]),e._v(" "),r("li",[r("p",[e._v("The Bot will ask you if you want to activate zOSMF for Zowe for your account. Follow the steps to complete that request.")])])]),e._v(" "),r("p",[e._v("Now you have an account that you can experiment with from your Eclipse Che workspace. To create a connection, connect to your z/OS account with these steps:")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Open the Zowe view in Eclipse Che and click the "),r("code",[e._v("+")]),e._v(" icon in the Data Sets view at the upper left.")])]),e._v(" "),r("li",[r("p",[e._v("A drop-down picker will appear in the middle-top of the screen. Select "),r("code",[e._v("Create a New Connection to z/OS")]),e._v(". A series of follow-up prompts will ask you for all your connection details.")]),e._v(" "),r("ul",[r("li",[e._v("Specify any name for your connection.")]),e._v(" "),r("li",[e._v("For the z/OSMF url, use the IP that you used for the 3270 connection above and the port 10443 for the Master the Mainframe machines. For example: "),r("a",{attrs:{href:"https://192.86.32.91:10443",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://192.86.32.91:10443"),r("OutboundLink")],1),e._v(". The default port for zOSMF is normally 443.")]),e._v(" "),r("li",[e._v("For the final question about rejecting connections with self-signed certificates, select "),r("code",[e._v("false")]),e._v(" for the Master the Mainframe systems.")])])]),e._v(" "),r("li",[r("p",[e._v("Now an entry appears in the Data Sets tree. You can use the "),r("code",[e._v("Search")]),e._v(" icon next to that entry to enter your username to find the "),r("code",[e._v("ISPF.ISPPROF")]),e._v(" data set.")])]),e._v(" "),r("li",[r("p",[e._v("You can use the other action icon to create a new data set.")])]),e._v(" "),r("li",[r("p",[e._v("You can add the same connection to the USS view by simply clicking the "),r("code",[e._v("+")]),e._v(" icon and then just selecting that connection from the drop-down.")])])]),e._v(" "),r("p",[e._v("Before you can now open and save files, you need to do one more step.")]),e._v(" "),r("p",[e._v("As your Eclipse Che workspaces consist of of many different containers that have been linked together, you need to tell Zowe Explorer where it can store temporary files loaded from z/OS. It will use that folder to download files, open them in the editor from, and then send them back to z/OS during a Save. To set a folder, take these steps:")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Open the menu "),r("code",[e._v("File > Settings > Open Preferences")]),e._v(". The Preferences editor window will open that show User and Workspace specific settings.")]),e._v(" "),r("p",[e._v("Note that in this case the word Workspace means a different thing than Eclipse Workspace. This is an inconsistency between Che and the editor used by Che Eclipse Theia. In this case, workspace refers to the directory in which your project files are stored.")])]),e._v(" "),r("li",[r("p",[e._v("Make sure you selected the User tab and add the following JSON object to the one displayed there.")]),e._v(" "),r("div",{staticClass:"language-json extra-class"},[r("pre",{pre:!0,attrs:{class:"language-json"}},[r("code",[r("span",{pre:!0,attrs:{class:"token property"}},[e._v('"Zowe-Temp-Folder-Location"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n   "),r("span",{pre:!0,attrs:{class:"token property"}},[e._v('"folderPath"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/projects"')]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),r("p",[e._v("The editor is saved automatically. Make sure the JSON does not have any syntax errors and then just close it. Now you can create files in USS and save them.")])])]),e._v(" "),r("p",[r("img",{attrs:{src:o(448),alt:"Zowe Explorer opening MVS data set member with COBOL program."}}),e._v("\nFig. 3: Using Zowe Explorer to access z/OS resources such as COBOL programs in MVS data sets from Eclipse Che.")]),e._v(" "),r("h2",{attrs:{id:"limitations-and-outlook"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#limitations-and-outlook"}},[e._v("#")]),e._v(" Limitations and Outlook")]),e._v(" "),r("p",[e._v("The steps described above allowed you to very quickly get up and running with Eclipse Che creating a workspace that contained the IBM Z Open Editor as well as the Zowe Explorer. However, the workspace definition we used was not integrated into your Eclipse Che Stacks list now, nor can it be easily configured and changed. To set this up in your organization so that development teams can create their own custom workspace definitions and instantiate many more workspaces easily you need to setup and manage two registries: a plugin and a devfiles registry. We will go into the details for doing that in our next Blog post.")]),e._v(" "),r("p",[e._v("If you already want to read up on the workspace architecture of Che you can review these documentation pages for the "),r("a",{attrs:{href:"https://www.eclipse.org/che/docs/che-7/che-workspaces-architecture/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Che Workspace Architecture"),r("OutboundLink")],1),e._v(" and the "),r("a",{attrs:{href:"https://www.eclipse.org/che/docs/che-7/che-workspace-controller/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Workspace Controller"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("h2",{attrs:{id:"troubleshooting"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[e._v("#")]),e._v(" Troubleshooting")]),e._v(" "),r("p",[e._v("Working with a cluster sometimes requires a bit more patience waiting for deployment jobs to complete. Sometime timeouts or other errors could happen. Here are some of the more common issue you might run into and suggestions for how to solve them:")]),e._v(" "),r("ol",[r("li",[r("p",[r("code",[e._v("Failed to start workspace")])]),e._v(" "),r("p",[e._v("Sometimes it does happen when the workspace pod is not assigned to the project. Press "),r("code",[e._v("F5")]),e._v(" and click "),r("code",[e._v("refresh")]),e._v(" link appears on the screen.")])]),e._v(" "),r("li",[r("p",[r("code",[e._v('Error: Failed to run the workspace: "Workspace is going to be STOPPED. Reason: Workspace is not started in time. Trying interrupt runtime start"')])]),e._v(" "),r("p",[e._v("While creating a workspace, it requires storage to be configured on the cluster. Che claims a persistent volume to the cluster. OpenShift cluster on IBM Cloud has capability to provision storages dynamically when a project claims for the persistent volume. Depending on the IBM Cloud traffic, it spends good amount of time to approve your claim and assign a storage to your workspace pod. You may refresh or press "),r("code",[e._v("F5")]),e._v(" to start over again.")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("Unable to create persistent volume on workspace pod")])]),e._v(" "),r("p",[e._v("While creating a workspace, it requires storage to be configured on the cluster. Che claims a persistent volume to the cluster. Your cluster may not have configured for dynamic storage allocation. You need to create workspace in an "),r("code",[e._v("Ephemeral Mode")]),e._v(". Ephemeral mode is a function that allows users to browse the Web on a shared device or a personal laptop by using a profile that won't save any data or history after the browser is closed. Stop our workspace first, then you can go to "),r("code",[e._v("Workspaces")]),e._v(" tab and open "),r("code",[e._v("Workspace Configuration")]),e._v(" by click a middle configuration icon on the right side under "),r("code",[e._v("ACTIONS")]),e._v(" tab, open "),r("code",[e._v("Overview")]),e._v(" tab and turn on "),r("code",[e._v("Ephemeral Mode")]),e._v(". SAVE and RUN your workspace again.")])])]),e._v(" "),r("h2",{attrs:{id:"questions-or-feedback"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#questions-or-feedback"}},[e._v("#")]),e._v(" Questions or Feedback")]),e._v(" "),r("p",[e._v("We would love to hear what you think of this solution. For any questions, issues, or enhancement ideas, please do not hesitate to "),r("a",{attrs:{href:"https://github.com/IBM/zopeneditor-about/issues",target:"_blank",rel:"noopener noreferrer"}},[e._v("open an issue at our GitHub"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("We are always looking for ways to improve.")])])}),[],!1,null,null,null);t.default=n.exports}}]);