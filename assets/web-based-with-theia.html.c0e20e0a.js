import{r as s,o as i,a as r,b as o,d as t,F as l,e,c as a}from"./app.a0680cc3.js";import{_ as d}from"./plugin-vue_export-helper.21dcd24c.js";const c={},h=o("h1",{id:"running-ibm-z\xAE-open-editor-in-the-browser-with-eclipse-theia",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#running-ibm-z\xAE-open-editor-in-the-browser-with-eclipse-theia","aria-hidden":"true"},"#"),e(" Running IBM Z\xAE Open Editor in the browser with Eclipse Theia")],-1),p=o("blockquote",null,[o("p",null,[e("by Peter Haumer."),o("br"),e(" Last updated: 4 December 2019")])],-1),u=e("VS Code has become so popular that there are other editors out there now that provide a compatibility API to also consume VS Code extensions. One of the most popular ones is the web-based "),m={href:"https://theia-ide.org/",target:"_blank",rel:"noopener noreferrer"},_=e("Eclipse Theia"),b=e(". Theia is also the default editor for the container-based "),g={href:"https://www.eclipse.org/che/",target:"_blank",rel:"noopener noreferrer"},f=e("Eclipse Che"),v=e(" platform as well. Hence, we develop IBM Z Open Editor not only for VS Code, but also Theia, which opens our editor up for an even larger community than VS Code already provides. In fact, Z Open Editor has actually evolved out of a Theia extension that we introduced in 2018. For more details, see the "),w={href:"https://www.youtube.com/watch?v=0XbfLBIoL0E",target:"_blank",rel:"noopener noreferrer"},k=e("Overview"),y=e(" or a "),x={href:"https://www.youtube.com/watch?v=pOulh-9OzT8",target:"_blank",rel:"noopener noreferrer"},T=e("demo showing both user experiences"),I=e("."),E=o("h2",{id:"api-compatibility",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#api-compatibility","aria-hidden":"true"},"#"),e(" API compatibility")],-1),O=e("Theia strives for full compatibility of the VS Code APIs. As Theia and VS Code evolve, the Theia team is keeping track of the status of the VS Code API implementation in Theia "),Z={href:"https://che-incubator.github.io/vscode-theia-comparator/status.html",target:"_blank",rel:"noopener noreferrer"},C=e("here"),S=e(". If new issues are found, the team accepts issue reports "),B={href:"https://github.com/eclipse-theia/theia/labels/vscode",target:"_blank",rel:"noopener noreferrer"},D=e("here"),q=e(" using the tag vscode."),V=a('<h2 id="building-theia-and-running-ibm-z-open-editor-in-it" tabindex="-1"><a class="header-anchor" href="#building-theia-and-running-ibm-z-open-editor-in-it" aria-hidden="true">#</a> Building Theia and running IBM Z Open Editor in it</h2><p>In this article, we will show you three different ways of building Theia and running it with IBM Z Open Editor and optionally Zowe Explorer that gives you access to z/OS\xAE resources:</p><ol><li><a href="#alternative-1-load-it-from-npmjs-org">Load it from npmjs.org</a></li><li><a href="#alternative-2-load-a-docker-container">Load a Docker container</a></li><li><a href="#alternative-3-build-theia-from-source">Build Theia from source</a></li></ol>',3),L=e("To run IBM Z Open Editor and optionally Zowe Explorer with Theia, you must first download the vsix file(s) of "),j={href:"https://marketplace.visualstudio.com/items?itemName=IBM.zopeneditor",target:"_blank",rel:"noopener noreferrer"},A=e("IBM Z Open Editor VS Code extension"),z=e(" and optionally "),N={href:"https://marketplace.visualstudio.com/items?itemName=Zowe.vscode-extension-for-zowe",target:"_blank",rel:"noopener noreferrer"},M=e("Zowe Explorer VS Code extension"),P=e(' from the VS Code Marketplace using the "Download Extension" link on the right.'),F=o("h3",{id:"alternative-1-load-it-from-npmjs-org",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#alternative-1-load-it-from-npmjs-org","aria-hidden":"true"},"#"),e(" Alternative 1: Load it from npmjs.org")],-1),W=e("If you want to try out the user experience for editing COBOL or PL/I code in a browser, you can build a Theia editor instance with our extension on your development machine easily and then run the Theia web server from the command line window. The main prerequisite is to have "),Y={href:"https://nodejs.org/en/download/releases/",target:"_blank",rel:"noopener noreferrer"},$=e("Node.js V10"),R=e(" (not newer) and "),H={href:"https://yarnpkg.com/lang/en/",target:"_blank",rel:"noopener noreferrer"},G=e("yarn"),J=e(" installed on your development machine. It can run on Linux, Windows, or macOS."),U=e("Follow the "),X={href:"https://theia-ide.org/docs/composing_applications/",target:"_blank",rel:"noopener noreferrer"},K=e("instructions here"),Q=e(" to build a Theia instance using Node and Yarn with the two modifications described below."),ee=a(`<li><p>After pasting the contents for the <code>package.json</code> file, add the following additional entries into the <code>dependencies</code> object:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code> <span class="token property">&quot;@theia/plugin-dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;next&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;@theia/plugin-ext-vscode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;next&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>As the name indicates, these commands will add VS Code Extension compatibility.</p></li><li><p>Then, use the plain <code>yarn</code> command to build everything.</p></li><li><p>Create a folder called <code>plugins</code> in the directory where you built Theia, and drop the downloaded vsix file(s) into that folder.</p></li><li><p>Start Theia with this augmented command:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> theia start --plugins<span class="token operator">=</span>local-dir:./plugins
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li>`,4),oe=e("Now open a web browser and navigate to "),ne={href:"http://localhost:3000",target:"_blank",rel:"noopener noreferrer"},te=e("http://localhost:3000"),ae=e("."),se=a(`<p>Theia will now load and you can create a workspace directory on your local drive with COBOL or PL/I files with Z Open Editor language support. If you also downloaded the Zowe Explorer VS Code extension, you can see the stylized <code>Z</code> icon on the left that you can click to see the Data Set, USS, and JES viewers.</p><p>Done. It is that easy.</p><p>If you are looking for code samples to try, clone our sample repository with the following command and open that folder by clicking <code>File &gt; Open...</code>.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/IBM/zopeneditor-sample.git
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="alternative-2-load-a-docker-container" tabindex="-1"><a class="header-anchor" href="#alternative-2-load-a-docker-container" aria-hidden="true">#</a> Alternative 2: Load a Docker container</h3>`,5),ie=e("If you are a fan of Docker, you can get started even faster than the alternative above by using the Theia Docker images that are continuously published. "),re={href:"https://github.com/theia-ide/theia-apps",target:"_blank",rel:"noopener noreferrer"},le=e("This page"),de=e(" provides a great overview to the available Docker images maintained by the Theia team."),ce=o("p",null,[e("As the default Theia Docker image does not include the VS Code extension, we recommend loading the "),o("code",null,"theia-full"),e(" image.")],-1),he=a(`<li><p>Make sure you are not running any other Theia app anymore or change the mapped port in the command below. Assuming that you have Docker installed and running, execute this command to download the image and start a container:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -it --init -p <span class="token number">3000</span>:3000 theiaide/theia-full:next --plugins<span class="token operator">=</span>local-dir:/home/theia/plugins
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>Note</strong>: When you start the container as above, the default workspace in which to store program files will be inside the Docker container. If you want to try Theia with your own local files, you can mount a local directory as the workspace instead. CD into the directory that contains your sample programs first, and then use these modified commands instead that will map the current directory as the <code>/home/project</code> directory in the container.</p><p><strong>Linux or macOS</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -it --init -p <span class="token number">3000</span>:3000 -v <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>:/home/project:cached&quot;</span> theiaide/theia-full:next --plugins<span class="token operator">=</span>local-dir:/home/theia/plugins
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>Windows</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -it --init -p <span class="token number">3000</span>:3000 -v <span class="token string">&quot;%cd%:/home/project:cached&quot;</span> theiaide/theia-full:next --plugins<span class="token operator">=</span>local-dir:/home/theia/plugins
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li>`,1),pe=e("Open a web browser and navigate to "),ue={href:"http://localhost:3000",target:"_blank",rel:"noopener noreferrer"},me=e("http://localhost:3000"),_e=e("."),be=a(`<li><p>The extensions of Z Open Editor and Zowe Explorer are currently not included yet. You need to update the Docker container by copying these extensions into the container. To install Z Open Editor, run the following command. Ensure to replace <code>\${container-id}</code> with the actual container ID and adjust for your OS. You might also need to change the name of the vsix file in the command.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">cp</span> ~/Downloads/IBM.zopeneditor-0.4.1.vsix <span class="token variable">\${container-id}</span>:/home/theia
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>If you also want to install the Zowe Explorer vsix file, run the command above by replacing the vsix file name, for example, <code>Zowe.vscode-extension-for-zowe-0.29.0.vsix</code>.</p></li><li><p>Then, log on to your container as root and move it in the right location:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> <span class="token builtin class-name">exec</span> -u <span class="token number">0</span> -it <span class="token variable">\${container-id}</span> <span class="token function">bash</span>
<span class="token comment"># mkdir plugins</span>
<span class="token comment"># mv *.vsix plugins</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>Restart the container and reload your browser.</p></li>`,3),ge=o("p",null,"You are now able to create COBOL and PL/I files and see the Zowe Explorer views. To install more extensions into the container, go back to the container root shell. For example, you can install Zowe CLI into the container now as well.",-1),fe=o("h3",{id:"alternative-3-build-theia-from-source",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#alternative-3-build-theia-from-source","aria-hidden":"true"},"#"),e(" Alternative 3: Build Theia from source")],-1),ve=o("p",null,"If you are interested in the Eclipse Theia project and want to try building it from source to explore it further, you can certainly do that and load Z Open Editor with it.",-1),we=o("p",null,"The Theia development team provides a very detailed document on how to set up your workspace. In particular, it lists all the dependencies required on your development machine, which differs quite a bit depending on the OS you are working on.",-1),ke=e("For more details, see the main Theia Developer Guide: "),ye={href:"https://github.com/eclipse-theia/theia/blob/master/doc/Developing.md",target:"_blank",rel:"noopener noreferrer"},xe=e("https://github.com/eclipse-theia/theia/blob/master/doc/Developing.md"),Te=e("."),Ie=e("The main prerequisites are still Node V10 and Yarn. However, on a Windows PC, you need more dependencies such as the Windows Build Tools. The "),Ee={href:"https://github.com/eclipse-theia/theia/blob/master/doc/Developing.md#building-on-windows",target:"_blank",rel:"noopener noreferrer"},Oe=e("developer guide"),Ze=e(" proposes to install the Windows package manager Choco and then use it for the installation of most dependencies including Node and Yarn."),Ce=e("After the prerequisites are set up, the steps for building Theia are basically to clone the repository and run "),Se=o("code",null,"yarn",-1),Be=e(" to build everything. If the build process aborts with errors, check for fixes in the "),De={href:"https://github.com/eclipse-theia/theia/blob/master/doc/Developing.md#troubleshooting",target:"_blank",rel:"noopener noreferrer"},qe=e("Troubleshoot sections of the Theia development guide"),Ve=e("."),Le=o("p",null,"Once everything is built, running Theia with Z Open Editor and Zowe Explorer requires these additional steps:",-1),je=a("<li>Create a folder called <code>plugins</code> in the top-level Theia folder you cloned.</li><li>Copy the Z Open Editor and Zowe Explorer vsix files into that <code>plugins</code> folder.</li><li>Run the command <code>cd examples/browser</code>.</li><li>Run the command <code>yarn start</code>.</li>",4),Ae=e("Open a web browser and navigate to "),ze={href:"http://localhost:3000",target:"_blank",rel:"noopener noreferrer"},Ne=e("http://localhost:3000"),Me=e(".");function Pe(Fe,We){const n=s("ExternalLinkIcon");return i(),r(l,null,[h,p,o("p",null,[u,o("a",m,[_,t(n)]),b,o("a",g,[f,t(n)]),v,o("a",w,[k,t(n)]),y,o("a",x,[T,t(n)]),I]),E,o("p",null,[O,o("a",Z,[C,t(n)]),S,o("a",B,[D,t(n)]),q]),V,o("p",null,[L,o("a",j,[A,t(n)]),z,o("a",N,[M,t(n)]),P]),F,o("p",null,[W,o("a",Y,[$,t(n)]),R,o("a",H,[G,t(n)]),J]),o("ol",null,[o("li",null,[o("p",null,[U,o("a",X,[K,t(n)]),Q])]),ee,o("li",null,[o("p",null,[oe,o("a",ne,[te,t(n)]),ae])])]),se,o("p",null,[ie,o("a",re,[le,t(n)]),de]),ce,o("ol",null,[he,o("li",null,[o("p",null,[pe,o("a",ue,[me,t(n)]),_e])]),be]),ge,fe,ve,we,o("p",null,[ke,o("a",ye,[xe,t(n)]),Te]),o("p",null,[Ie,o("a",Ee,[Oe,t(n)]),Ze]),o("p",null,[Ce,Se,Be,o("a",De,[qe,t(n)]),Ve]),Le,o("ol",null,[je,o("li",null,[Ae,o("a",ze,[Ne,t(n)]),Me])])],64)}var Re=d(c,[["render",Pe]]);export{Re as default};
